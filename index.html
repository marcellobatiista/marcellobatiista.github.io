<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="static/favicon.ico" type="image/x-icon">
    <title></Dev></title>

    <!-- Bootstrap Icons (CDN) -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
    
    <!-- CSS -->
    <link rel="stylesheet" href="static/styles/index.css">
    <link rel="stylesheet" href="static/styles/post.css">
</head>
<body>
<!-- CABEÇALHO PRINCIPAL -->
<div class="main-header"></div>

<!-- WRAPPER (SIDEBAR + CONTEÚDO) -->
<div class="wrapper">

    <!-- SIDEBAR -->
    <div class="sidebar" id="sidebar">
        <!-- Botão dentro da sidebar -->
        <button class="toggle-button" id="toggleBtn" onclick="toggleSidebar()">«</button>

        <div class="sidebar-content">
            <!-- Conteúdo principal da sidebar -->
            <div class="sidebar-main">
                <div class="sidebar-top">
                    <a href="#">
                        <div class="menu-item portfolio">
                            <i class="bi bi-collection"></i>
                            <span>Projetos</span>
                        </div>
                    </a>
                    <a href="https://github.com/marcellobatiista" target="_blank" rel="noopener noreferrer">
                        <div class="menu-item github">
                            <i class="bi bi-github"></i>
                            <span>GitHub</span>
                        </div>
                    </a>
                    <a href="#">
                        <div class="menu-item docs">
                            <i class="bi bi-book"></i>
                            <span>Docs</span>
                        </div>
                    </a>
                    <a href="https://t.me/SP4CNE" target="_blank" rel="noopener noreferrer">
                        <div class="menu-item contato">
                            <i class="bi bi-telegram"></i>
                            <span>Contato</span>
                        </div>
                    </a>
                </div>
            </div>

            <!-- Rodapé da Sidebar -->
            <div class="sidebar-bottom">
                <a href="https://link.mercadopago.com.br/doarumcafe" target="_blank" rel="noopener noreferrer">Doar um Café ☕️</a>
            </div>
        </div>
    </div>

    <!-- CONTEÚDO PRINCIPAL -->
    <div class="main-content">
        <div class="main-body">
            <div id="post-content"></div>
        </div>
        <!-- Agora, só uma frase no rodapé -->
        <div class="main-footer">
            Observe atentamente e descubra a verdade em si mesmo.
        </div>
    </div>

</div>

<!-- SCRIPT -->
<script>
    function toggleSidebar() {
        const sidebar = document.getElementById("sidebar");
        const toggleBtn = document.getElementById("toggleBtn");
        const mainContent = document.querySelector(".main-content");

        if (window.innerWidth <= 768) {
            // Em telas pequenas, a lógica é mostrar/esconder com ".show"
            if (sidebar.classList.contains("show")) {
                sidebar.classList.remove("show");
                sidebar.classList.remove("collapsed");
                toggleBtn.textContent = "»";
            } else {
                sidebar.classList.add("show");
                toggleBtn.textContent = "«";
            }
        } else {
            // Em telas grandes, a lógica é expandir/recolher com ".collapsed"
            sidebar.classList.toggle("collapsed");
            sidebar.classList.remove("show");
            mainContent.classList.toggle("sidebar-collapsed");
            if (sidebar.classList.contains("collapsed")) {
                toggleBtn.textContent = "»";
            } else {
                toggleBtn.textContent = "«";
            }
        }
    }

    // Função para garantir que o botão e a sidebar estejam sincronizados ao carregar/redimensionar
    function syncSidebarToggleBtn() {
        const sidebar = document.getElementById("sidebar");
        const toggleBtn = document.getElementById("toggleBtn");
        if (!sidebar || !toggleBtn) return;
        if (window.innerWidth <= 768) {
            // Mobile: sidebar começa oculta, seta para expandir
            sidebar.classList.remove("show");
            sidebar.classList.remove("collapsed");
            toggleBtn.textContent = "»";
        } else {
            // Desktop: sidebar começa expandida, seta para recolher
            sidebar.classList.remove("show");
            sidebar.classList.remove("collapsed");
            toggleBtn.textContent = "«";
            const mainContent = document.querySelector(".main-content");
            if (mainContent) mainContent.classList.remove("sidebar-collapsed");
        }
    }

    // Sincroniza ao carregar e ao redimensionar
    window.addEventListener('DOMContentLoaded', syncSidebarToggleBtn);
    window.addEventListener('resize', syncSidebarToggleBtn);

    // Carrega o conteúdo do post via fetch
    fetch('templates/posts/post1.html')
        .then(response => response.text())
        .then(html => {
            document.getElementById('post-content').innerHTML = html;
        })
        .catch(error => {
            console.error('Erro ao carregar o post:', error);
        });
</script>
</body>
</html>
